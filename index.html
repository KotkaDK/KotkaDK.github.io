<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <title>COLOR PALETTE TESTER | 1.1.4</title>
        <script>

            function setDefaultText() {

                var style = getComputedStyle(document.body)

                document.getElementById('light').value = '#EFF0F3';
                document.getElementById('primary').value = '#FF8E3C';
                document.getElementById('secondary').value = '#D9376E';
                document.getElementById('dark').value = '#272343';
                document.getElementById('text-to-preview').value = '';
                document.getElementById('icon-input').value = '';

            }

            function changeColor(version) {

                color = document.getElementById(version).value;

                // check if color is a valid hex code
                if (!color.match(/^#[0-9A-F]{6}$/i)) {
                    color = "#FFFFFF";
                }

                document.getElementById(version).value = color.toUpperCase();
                
                switch (version) {
                    case "light":
                        document.documentElement.style.setProperty('--light-color', color);
                        break;
                    case "primary":
                        document.documentElement.style.setProperty('--primary-color', color);
                        break;
                    case "secondary":
                        document.documentElement.style.setProperty('--secondary-color', color);
                        break;
                    case "dark":
                        document.documentElement.style.setProperty('--dark-color', color);
                        break;
                }
            }

            function setTextPreview() {

                if (document.getElementById("text-to-preview").value == "" || document.getElementById("text-to-preview").value == null) {
                    text = "This is a preview of the colored text";
                } else {
                    text = document.getElementById("text-to-preview").value;
                }

                for(i = 0; i != 5; i++) {
                    document.getElementsByClassName("light-text").item(i).innerHTML = text;
                    document.getElementsByClassName("primary-text").item(i).innerHTML = text;
                    document.getElementsByClassName("secondary-text").item(i).innerHTML = text;
                    document.getElementsByClassName("dark-text").item(i).innerHTML = text;
                }

            }

            function setIconPreview() {

                // Get the value of the input field with id="icon-input"
                var icon = document.getElementById("icon-input").value;

                console.log(icon);

                // lowercase icon
                icon = icon.toLowerCase();

                // remove all non-alphanumeric characters except for comma and underscore
                icon = icon.replace(/[^a-z0-9 _]/g, "");

                // remove duplicate underscores and spoaces
                icon = icon.replace(/ {2,}/g, "_");
                icon = icon.replace(/ {2,}/g, " ");

                //split by space and keep the first 11 elements
                icon = icon.split(" ").slice(0, 11);

                console.log(icon);

                // transform array to string
                icon = icon.join(" ");

                console.log(icon);

                for(i = 0; i != 5; i++) {
                    document.getElementsByClassName("light-icon").item(i).innerHTML = icon;
                    document.getElementsByClassName("primary-icon").item(i).innerHTML = icon;
                    document.getElementsByClassName("secondary-icon").item(i).innerHTML = icon;
                    document.getElementsByClassName("dark-icon").item(i).innerHTML = icon;
                }

            }

            function clearText(id) {

                document.getElementById(id).value = "";

            }
        
        </script>

    </head>
    <body onload="setDefaultText()">
        
        <h1>COLOR PALETTE TESTER</h1>

        <fieldset>
            <legend style="font-weight: bold;">COLORS</legend>
            <p>This section is to select and view the colors you want to test!</p>
            <hr>
            <div id="color-selectors">
                <div>
                    <div class="preview" id="light-preview"></div>
                    <input onchange="changeColor('light')" type="text" id="light" name="light" value="#FFFFFE">
                    <label for="light"><span>Light color</span></label>
                </div>
                <br>
        
                <div>
                    <div class="preview" id="primary-preview"></div>
                    <input onchange="changeColor('primary')" type="text" id="primary" name="primary" value="#FF8E3C">
                    <label for="primary"><span>Primary color</span></label>
                </div>
                <br>

                <div>
                    <div class="preview" id="secondary-preview"></div>
                    <input onchange="changeColor('secondary')" type="text" id="secondary" name="secondary" value="#FF8E3C">
                    <label for="secondary"><span>Secondary color</span></label>
                </div>
                <br>
        
                <div>
                    <div class="preview" id="dark-preview"></div>
                    <input onchange="changeColor('dark')" type="text" id="dark" name="dark" value="#272343">
                    <label for="dark"><span>Dark color</span></label>
                </div>
            </div>
        </fieldset>
        
        <br>

        <fieldset>
            <legend style="font-weight: bold;">BUTTON PREVIEW</legend>
            <p>This section shows how the colors would look on each button design</p>
            <hr>
            <div id="button-previews">
                <button class="tertiary-button-primary">Tertiary</button>
                <button class="secondary-button-primary">Secondary</button>
                <button class="primary-button-primary">Primary</button>

                <button class="tertiary-button-secondary">Tertiary</button>
                <button class="secondary-button-secondary">Secondary</button>
                <button class="primary-button-secondary">Primary</button>

                <button class="tertiary-button-dark">Tertiary</button>
                <button class="secondary-button-dark">Secondary</button>
                <button class="primary-button-dark">Primary</button>
            </div>
        </fieldset>

        <br>

        <fieldset>
            <legend style="font-weight: bold;">TEXT PREVIEW</legend>
            <p>This section shows how the colors would look on each other</p>
            <hr>
            <p>Write some text to test in the previews!</p>
            <textarea spellcheck="false" id="text-to-preview" placeholder="Write some text..." cols="104" rows="10" wrap="hard" maxlength="1040"></textarea>
            <br>
            <br>
            <button class="primary-button-primary smallerMargin" onclick="setTextPreview()">Preview</button>
            <button class="secondary-button-primary smallerMargin" onclick="clearText('text-to-preview')">clear</button>
            <hr>
            <div id="text-previews">
                <div class="light-preview">
                    <p class="primary-text">This is a preview of the colored text</p>
                    <p class="secondary-text">This is a preview of the colored text</p>
                    <p class="dark-text">This is a preview of the colored text</p>
                </div>
                <br>
        
                <div class="primary-preview">
                    <p class="light-text">This is a preview of the colored text</p>
                    <p class="secondary-text">This is a preview of the colored text</p>
                    <p class="dark-text">This is a preview of the colored text</p>
                </div>
                <br>

                <div class="secondary-preview">
                    <p class="light-text">This is a preview of the colored text</p>
                    <p class="primary-text">This is a preview of the colored text</p>
                    <p class="dark-text">This is a preview of the colored text</p>
                </div>
                <br>
        
                <div class="dark-preview">
                    <p class="light-text">This is a preview of the colored text</p>
                    <p class="primary-text">This is a preview of the colored text</p>
                    <p class="secondary-text">This is a preview of the colored text</p>
                </div>
            </div>
        </fieldset>

        <br>

        <fieldset>
            <legend style="font-weight: bold;">ICON PREVIEW</legend>
            <p>This section shows how the colors would look on a sample icon on different colors</p>
            <hr>
            <p>Enter an icon name!</p>
            <p>If you have multiple icons please separate them with a comma!</p>
            <p>You can use <a href="https://fonts.google.com/icons" target="_blank">Google Icons</a> to find icons to test!</p>
            <input type="text" placeholder="Enter icon name ..." id="icon-input"></input>
            <br>
            <br>
            <button class="primary-button-primary smallerMargin" onclick="setIconPreview()">Search</button>
            <button class="secondary-button-primary smallerMargin" onclick="clearText('icon-input')">clear</button>
            <hr>
            <div id="icon-previews">
                <div class="light-preview">
                    <span class="material-symbols-outlined primary-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined secondary-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined dark-icon">
                        settings
                    </span>
                </div>
                <br>

                <div class="primary-preview">
                    <span class="material-symbols-outlined light-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined secondary-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined dark-icon">
                        settings
                    </span>
                </div>
                <br>

                <div class="secondary-preview">
                    <span class="material-symbols-outlined light-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined primary-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined dark-icon">
                        settings
                    </span>
                </div>
                <br>

                <div class="dark-preview">
                    <span class="material-symbols-outlined light-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined primary-icon">
                        settings
                    </span>
                    <span class="material-symbols-outlined secondary-icon">
                        settings
                    </span>
                </div>
                <br>

            </div>
        </fieldset>

        <br>

        <fieldset>
            <legend style="font-weight: bold;">INFORMATION</legend>
            <p>Version: 1.1.4</p>
            <p>Since: 28th of May 2022</p>
        </fieldset>

        <br>

        <fieldset>
            <legend style="font-weight: bold;">UPDATES AND FIXES</legend>
            <p><span style="font-style: italic;">1.0.1</span>: Added secondary color to preview</p>
            <p><span style="font-style: italic;">1.0.2</span>: Added button preview for secondary color</p>
            <p><span style="font-style: italic;">1.0.3</span>: Added text preview for secondary color</p>
            <p><span style="font-style: italic;">1.1.0</span>: Added icon preview for all colors</p>
            <p><span style="font-style: italic;">1.1.1</span>: Added search function for icon preview</p>
            <p><span style="font-style: italic;">1.1.2</span>: Added multi-search function for icon preview</p>
            <p><span style="font-style: italic;">1.1.3</span>: Fixed icon search bug</p>
            <p><span style="font-style: italic;">1.1.4</span>: Added clear button</p>
        </fieldset>

    </body>
</html> 